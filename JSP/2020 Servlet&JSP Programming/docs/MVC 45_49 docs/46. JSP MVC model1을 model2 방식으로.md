# 46. ğŸ“ŒJSP MVC model1ì„ model2 ë°©ì‹ìœ¼ë¡œ

# MVC Model 2 ë°©ì‹

## MVC Model 2 : ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë·°ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ëœ ë°©ì‹

<aside>
ğŸ˜¬ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë·°ê°€ ë¬¼ë¦¬ì ì¸ ë¶„ë¦¬ ì—¬ë¶€ì— ë”°ë¼ Model 1 , 2 ì˜ ê°€ì¥ í° ì°¨ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤

</aside>

- ì¼ë°˜ì ìœ¼ë¡œ ë¶„ë¦¬ëœ ìƒíƒœì—ì„œ **í•œ ê°€ì§€ ìš”ì†Œë¥¼ ë”í•œê²ƒì„ Model 2 ë¡œ ë³´ë©´ë  ê²ƒì´ë‹¤**
- ê·¸ëŸ¼, í•œ ê°€ì§€ ìš”ì†ŒëŠ” ë¬´ì—‡ì¸ê°€? **Dispatcher(ë””ìŠ¤íŒ¨ì³)**

### Dispatcher(ë””ìŠ¤íŒ¨ì³)ë€?

**ì»¨íŠ¸ë¡¤ëŸ¬(Controller)ì™€ ë·°(View)í˜ì´ì§€ë¥¼ ì—°ê²°í•¨ì— ìˆì–´ì„œ forwarding(í¬ì›Œë”©)ì„ ë•ëŠ” ì—­í• ì„ í•œë‹¤**

ğŸ“Œ**ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë””ìŠ¤íŒ¨ì³ë¥¼ í†µí•´ì„œ ë·°ë¡œ í¬ì›Œë”© í•œë‹¤**

â†’ ìì„¸í•œ ë‚´ìš©ì€ ë°‘ì—ì„œ!

### ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë·°ì˜ ì—°ê²°ë°©ì‹ : forward

**ë³´í†µ ì»¨íŠ¸ë¡¤ëŸ¬(Controller)ëŠ” Servlet, ë·°(View)ëŠ” JSPë¡œ ë³¸ë‹¤.**

**í•˜ì§€ë§Œ, ë·° ë˜í•œ ì„œë¸”ë¦¿(Servlet)ìœ¼ë¡œ ë´ë„ ë¬´ë°©í•˜ë‹¤.**

**Servletì—ì„œ Servletìœ¼ë¡œì˜ ì´ì „ë°©ì‹**

**ì¦‰, ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë·°ì˜ ì—°ê²°ë°©ì‹(ì´ì „ë°©ì‹)ì—ì„œ forward ë¼ëŠ” ê°œë…ì´ ìˆë‹¤**

---

### ì»¨íŠ¸ë¡¤ëŸ¬(Controller)

![Untitled](https://user-images.githubusercontent.com/80089860/159260800-9eec3f96-0ae8-41e7-80ca-f1729a976c85.png)

### ë·°(View)ë‹¨

![Untitled 1](https://user-images.githubusercontent.com/80089860/159260838-8cd399d3-f636-40aa-b080-f5b74a4e6fd0.png)

### Forward

ì•„ë˜ ë””ìŠ¤íŒ¨ì³ ì„¤ëª…ì—ì„œ ìì„¸í•˜ê²Œ ë‹¤ë£¬ë‹¤

![Untitled 2](https://user-images.githubusercontent.com/80089860/159260858-8579478c-3852-4b83-a646-b37a5a139c6a.png)

ğŸ“Œ**í¬ì›Œë“œì™€ ë¦¬ë””ë ‰íŠ¸ì˜ ì°¨ì´ì ê³¼ í¬ì›Œë”© ë°©ë²•ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤!**

- **forward(í¬ì›Œë“œ)ëŠ” í˜„ì¬ ì‘ì—…í•œ ë‚´ìš©ì„ ì´ì–´ì„œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡, ê³µìœ ë¥¼ í•œë‹¤**
- **redirect(ë¦¬ë””ë ‰íŠ¸)ëŠ” í˜„ì¬ ì‘ì—…í•œ ë‚´ìš©ê³¼ ìƒê´€ì—†ì´ ìƒˆë¡œìš´ ë‚´ìš©ì„ ìš”ì²­í•œë‹¤**

---

### Dispatcher

![Untitled 3](https://user-images.githubusercontent.com/80089860/159260886-2199081d-cb1e-4d19-90e8-1beac9957c3d.png)

RequestDispatcher disapatcher = request.getRequestDispatcher(â€model2.jspâ€);

**ê´„í˜¸ì•ˆì—ëŠ”  jsp í™•ì¥ìë¥¼ ë„£ì–´ì•¼ í•œë‹¤ â†’ ì»¨íŠ¸ë¡¤ëŸ¬(ì„œë¸”ë¦¿)ì—ì„œ ë·°(JSP)ë¡œ ì—°ê²°í•˜ëŠ” ë°©ì‹(ì›ë¦¬)**

ë°‘ì˜ ì‚¬ì§„ ì°¸ì¡°

---

![Untitled 4](https://user-images.githubusercontent.com/80089860/159260899-29eb4a79-7504-4ec5-87b2-0b762eff03a8.png)

ì´ì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤

### ìƒíƒœë¥¼ ì €ì¥í•  ë•Œ, ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì €ì¥ì†Œ

1. **pageContext** : ë·°(í˜ì´ì§€) ë‚´ì—ì„œ í˜¼ì ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ ì»¨í…ìŠ¤íŠ¸ 
    
                            í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ í˜ì´ì§€(Servlet)ì— ëŒ€í•œ ì €ì¥ì†Œ
    
2. **ServletContext(ì „ì—­ ë³€ìˆ˜ì™€ ë¹„ìŠ·í•œ ëŠë‚Œ)** : í•˜ë‚˜ì˜ Web applicationì— ëŒ€í•œ ì €ì¥ì†Œ
3. **Request** : forward ê´€ê³„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì €ì¥ì†Œ
4. **Session** : íŠ¹ì • Sessionì— ëŒ€í•œ ì €ì¥ì†Œ
5. **Cookie** : Clientì— ì €ì¥í•˜ëŠ” ì €ì¥ì†Œ
6. **Page** : ëª¨ë“  í˜ì´ì§€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì €ì¥ì†Œ

### request.setAttribute(â€ë³€ìˆ˜ë‹‰ë„¤ì„â€, ë³€ìˆ˜);

**ë°”ë¡œ ìœ„ì—ì„œ ì €ì¥ì†Œì— ëŒ€í•´ì„œ ë°°ì› ëŠ”ë°,**

**ì—¬ê¸°ì„œ ì“°ëŠ” request ì €ì¥ì†Œê°€ ( forward ê´€ê³„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì €ì¥ì†Œ ) ì´ë‹¤.**

![Untitled 5](https://user-images.githubusercontent.com/80089860/159260930-9a60fd74-e8bc-451c-be3f-7c16ae6f8eef.png)

### ì»¨íŠ¸ë¡¤ëŸ¬, ì¦‰ ì„œë¸”ë¦¿ ë‹¨ì—ì„œ ë‹´ì•„ë†“ì€ ë³€ìˆ˜ë¥¼

### ë·°, ì¦‰ JSPë‹¨ì—ì„œ êº¼ë‚´ì„œ(ì´ì „ë°›ì•„) ì‚¬ìš©í•˜ê³  ì‹¶ì„ë•Œ

### ìœ„ì˜ ë‘ ì¤„ì„ í•©í•œ ë‚´ìš©ì„ â€œí¬ì›Œë”©(forwarding)â€ì´ë¼ê³  í•œë‹¤

### ì´ í¬ì›Œë”©í•¨ì— ìˆì–´ì„œ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ê°€ â€œë””ìŠ¤íŒ¨ì³(Dispatcher)â€ì´ë‹¤.

---

**ê·¸ëŸ¼ ìœ„ì˜ ì‚¬ì§„ì—ì„œ rì´ë€ ì´ë¦„ìœ¼ë¡œ ë‹´ì•„ë†“ì€ request ë³€ìˆ˜ë¥¼ êº¼ë‚´ì„œ ì‚¬ìš©í•  ë•Œë¥¼ ì•Œì•„ë³´ì!**

### JSPë‹¨ì—ì„œ í¬ì›Œë”©ëœ ë³€ìˆ˜ë¥¼ êº¼ë‚´ì„œ ì‚¬ìš©í•  ë•Œ

![Untitled 6](https://user-images.githubusercontent.com/80089860/159260955-9f8129e2-b859-4a43-9fc7-23f553f4a897.png)

![Untitled 7](https://user-images.githubusercontent.com/80089860/159260964-7acf354e-2ddd-474a-98da-3f1eb35718e2.png)

---

### SERVLET (ì»¨íŠ¸ë¡¤ëŸ¬) ì—ì„œì˜ ë””ìŠ¤íŒ¨ì³ë¥¼ í†µí•œ í¬ì›Œë”© ì½”ë“œì‘ì„± ìˆœì„œ

![Untitled 8](https://user-images.githubusercontent.com/80089860/159260991-754a7415-e26a-4387-b680-8ff1aa191c89.png)

ğŸ“Œ

**ìš°ì„ , ì»¨íŠ¸ë¡¤ëŸ¬ì¸ ì„œë¸”ë¦¿ ë‹¨ì—ì„œ, ë·° ë‹¨ì¸ JSPë¡œ í¬ì›Œë”© í•¨ì— ìˆì–´ì„œì˜ ì½”ë“œ ì‘ì„± ìˆœì„œë¥¼ ì•Œì•„ë³´ì**

1. **request.setAttribute(â€ë³€ìˆ˜ë‹‰ë„¤ì„â€, ë³€ìˆ˜);  // servletì—ì„œëŠ” ìƒìì— ë‹´ì„ ë³€ìˆ˜ë¥¼ set í•œë‹¤**
2.  **RequestDispatcher dispatcher = request.getDispatcher(â€model.jspâ€);**

**// ë””ìŠ¤íŒ¨ì³ë¥¼ í†µí•´ model.jspì™€ ì—°ê²°í•¨ì— ìˆì–´ì„œ ë””ìŠ¤íŒ¨ì³ëŠ” get í•œë‹¤!**

**// 1ë²ˆì—ì„œëŠ” Atrributeë¥¼ set í•˜ëŠ”ê²ƒê³¼ëŠ” ë‹¤ë¥´ê²Œ, dispatcherëŠ” get ì´ë‹ˆ í—·ê°ˆë¦¬ì§€ ë§ë„ë¡ í•˜ì!**

1. **dispatcher.forward(reuqest.reponse); // dipatcher ì•ˆì˜ forwardë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ëœ»ì¸ê°€?**

**// forward í•¨ì— ìˆì–´ì„œ dispatcherëŠ” ë¬´ì¡°ê±´ì ì¸ ë“¯ ì‹¶ë‹¤**

### ğŸ“ŒğŸ“ŒíŒŒì¼ì„ ì‹¤í–‰í•  ë•Œ!!

<aside>
ğŸ˜¬ íŒŒì¼ì„ ì‹¤í–‰í•¨ì— ìˆì–´ì„œ VIEW (JSP)ë‹¨ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,                                         ì»¨íŠ¸ë¡¤ëŸ¬(ì„œë¸”ë¦¿)ì—ì„œ ì‹¤í–‰!!!!

</aside>

![Untitled 9](https://user-images.githubusercontent.com/80089860/159261033-364e7b40-9d90-499a-87f2-be1d9b3d6e17.png)

---
# MVC Model2 ì •ë¦¬

![Untitled 10](https://user-images.githubusercontent.com/80089860/159261056-e09fdca0-8e7b-47cc-8a3f-82e6c3442dac.png)

