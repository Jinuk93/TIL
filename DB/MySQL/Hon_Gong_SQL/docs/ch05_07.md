# ch05~07 키워드로 끝내는 핵심포인트

- 목차

---

# chapter.05

## 5-1. 5가지로 키워드로 끝내는 핵심포인트

- **CREATE TABLE은 테이블을 생성하는 SQL로, 테이블 이름, 열 이름, 데이터 형식 등을 지정합니다**
- **열에 입력될 값이 1부터 자동 증가하도록 설정하려면 GUI에서는 AI를 체크하고, SQL에서는 AUTO_INCREMENT를 입력합니다**
- **열에 빈 값을 허용하지 않으면, GUI에서는 NN을 체크하고, SQL에서는 NOT NULL을 입력합니다**
- **열을 기본 키로 지정하려면 GUI에서는 PK를 체크하고, SQL에서는 PRIMARY KEY를 입력합니다**
- **열을 외래키로 지정하려면 FOREIGN KEY 예약어를 입력합니다.**

## 5-2. 6가지로 키워드로 끝내는 핵심포인트

- **기본 키는 행 데이터 중에서 데이터를 구분할 수 있는 식별자 역할을 합니다**
- **외래 키는 두 테이블의 관계를 연결해줍니다. 외래 키가 설정된 열은 꼭 다른 테이블의 기본키와 연결됩니다**
- **고유 키는 중복되지 않는 유일한 값입니다. 기본 키와 차이점은 NULL값을 허용합니다**
- **체크는 입력되는 데이터를 점검하는 기능입니다**
- **기본값은 값을 입력하지 않았을 때, 자동으로 입력될 값을 미리 지정합니다**
- **널(Null)값을 허용하려면 생략하거나 NULL을 사용하고, 허용하지 않으려면 NOT NULL을 사용합니다**

- **제약조건 : 데이터의 무결성을 지키기 위한 제한된 조건**
- **ALTER TABLE : 이미 만들어진 테이블을 수정하는 SQL문**
- **ADD CONSTRAINT : 제약조건을 추가하는 SQL문**
- **기준 테이블 : 기본 키-외래 키 관계가 맺어진 테이블 중 기본 키가 설정된 테이블**
- **참조 테이블 : 기본 키-외래 키 관계가 맺어진 테이블 중 외래 키가 설정된 테이블**
- **ON UPDATE CASCADE : 기준 테이블의 기본 키를 변경하려면 참조 테이블의 외래 키도 변경되는 기능**
- **ON DELETE CASCADE : 기준 테이블의 기본 키를 삭제하려면 참조 테이블의 외래 키도 삭제되는 기능**

## 5-3. 6가지로 키워드로 끝내는 핵심포인트

- **모든 데이터베이스 개체는 테이블과 관련이 있지만, 특히 뷰는 테이블에 직접 접근하므로 밀접하게 연관됩니다**
- **뷰를 한마디로 표현하자면 ‘가상의 테이블’이라고 할 수 있습니다. 뷰의 실체는 SELECT 문으로 구성되어 있습니다**
- **하나의 테이블과 관련되면 단순 뷰, 2개 이상의 테이블과 관련되면 복합 뷰 라고 부릅니다. 복합 뷰로는 테이블의 데이터를 수정할 수 없습니다.**
- **뷰는 특정 사용자가 테이블에 접근하지 못하도록 하고, 필요한 부분에만 접근하도록 함으로써 보안에 도움이 됩니다.**

- **CREATE VIEW : 뷰를 생성하는 SQL**
- **별칭 : 뷰에서 사용될 열의 이름을 별칭을 사용해서 테이블과 다르게 지정할 수도 있음**
- **백틱 : 뷰를 조회할 때, 열 이름에 공백이 있으면 붙여주는 기호**
- **ALTER VIEW : 뷰를 수정하는 SQL**
- **DROP VIEW : 뷰를 삭제하는 SQL**
- **CREATE OR REPLACE VIEW : 기존에 뷰가 있으면 덮어쓰고, 없으면 새로 생성하는 SQL**
- **DESCRIBE : 뷰 또는 테이블의 정보(구조)를 조회하는 SQL**
- **SHOW CREATE VIEW : 뷰의 소스코드를 보여주는 SQL**
- **WITH CHECK OPTION : 뷰에 설정된 조건만 입력되도록 지정하는 SQL**
- **CHECK TABLE : 뷰 또는 테이블의 상태를 확인하는 SQL**

# chapter.06

## 6-1. 3가지로 키워드로 끝내는 핵심포인트

- **클러스터형 인덱스는 영어사전처럼 내용이 이미 정렬되어 있는 인덱스입니다. 기본 키로 지정하면 클러스터형 인덱스가 생성되고, 해당 열로 자동 정렬됩니다**
- **보조 인덱스는 일반 책의 찾아보기와 같이 별도의 공간에 인덱스가 생성됩니다. 고유 키로 지정하면 보조 인덱스가 생성되고 자동 정렬되지 않습니다.**
- **고유 인덱스는 값이 중복되지 않는 인덱스입니다. 기본 키나 고유 키로 지정하면 값이 중복되지 않아서 고유 인덱스가 자동 생성됩니다.**

## 6-2. 5가지로 키워드로 끝내는 핵심포인트

- **인덱스는 내부적으로 균형 트리, 즉 나무를 거꾸로 표현한 자료 구조로 구성됩니다.**
- **노드는 트리 구조에서 데이터가 저장되는 공간을 말하는데, MySQL에서는 노드를 페이지라고 부릅니다.**
- **전체 테이블 검색은 데이터를 처음부터 끝가지 검색하는 것입니다. 인덱스가 없으면 전체 페이지를 검색하는 방법밖에 없습니다.**
- **페이지 분할은 데이터를 입력할 때, 입력할 페이지에 공간이 없어서 2개 페이지로 데이터가 나눠지는 것을 말합니다.**
- **인덱스 검색은 클러스터형 또는 보조 인덱스를 이용해서 데이터를 검색하는 것입니다. 속도는 인덱스를 사용하지 않았을 때 보다 빠릅니다.**

## 6-3. 5가지로 키워드로 끝내는 핵심포인트

- **CREATE INDEX 문으로 인덱스를 직접 생성합니다.**
- **기본 키 및 고유 키로 자동 생성된 인덱스는 ALTER TABLE로 제거하고, CREATE INDEX문으로 생성한 인덱스는 DROP INDEX문으로 제거합니다.**
- **단순 보조 인덱스는 중복을 허용하는 보조 인덱스이며, CREATE INDEX 문을 사용합니다.**
- **고유 보조 인덱스는 중복을 허용하지 않는 보조 인덱스이며, CREATE UNIQUE INDEX 문을 사용합니다.**
- **MySQL 워크벤치에서 SQL을 실행한 후, 실행 계획에서 인덱스의 사용 여부를 확인할 수 있습니다.**

# chapter.07

## 7-1. 6가지로 키워드로 끝내는 핵심포인트

- **스토어드 프로시저는 MySQL에서 제동되는 프로그래밍 기능입니다**
- **스토어도 프로시저는 BEGIN ~ END 사이에 코드를 구현합니다**
- **스토어드 포르시저를 작성 한 후, CALL문을 통해서 스토어도 프로시저를 호출합니다.**
- **입력 매개변수는 스토어드 프로시저에 값을 전달합니다. 형식은 IN을 앞에 붙입니다.**
- **출력 매개변수는 스토어드 프로시저에사 계산된 결과를 돌려받습니다. 형식은 OUT을 앞에 붙입니다.**
- **동적 SQL은 다이나믹하게 SQL을 생성한 후 실행합니다. PREPARE문과 EXECUTE문을 사용합니다.**

## 7-2. 5가지로 키워드로 끝내는 핵심포인트

- **MySQL은 다양한 내장 함수로 제공되지 않은 기능을 스토어드 함수로 만들어서 사용할 수 있습니다**
- **스토어드 함수는 RETURNS 예약어를 통해서 반환된 데이터의 형식을 미리 지정해 놓아야 합니다.**
- **스토어드 함수의 매개변수는 모두 다 스토어드 함수로 값이 들어오는 입력 매개변수 입니다. 스토어드 프로시저와 달리 출력 매개변수는 없습니다.**
- **커서는 한 행씩 처리되도록 하는 기능입니다. DECLARE로 선언할 수 있으며, 그 내용은 SELECTE문입니다.**
- **커서는 행이 끝날 때까지 계속 반복합니다. 행의 끝을 판단하기 위해 변수 endOfRow를 준비하고 TRUE값인지 체크하는 방식을 사용합니다.**

## 7-3. 4가지로 키워드로 끝내는 핵심포인트

- **트리거는 테이블에서 DML문(INSERT, UPDATE, DELETE 등)의 이벤트가 발생할 떄 작동합니다.**
- **ALTER DELETE는 DELETE문이 발생된 후에 트리거를 작동하라는 의미입니다**
- **트리거는 행 데이터가 삭제 또는 수정되면 기존 데이터를 백업 테이블에 저장하도록 할 수 있습니다**
- **트리거에서 기존 데이터는 OLD테이블에, 새로운 데이터는 NEW 테이블에 잠깐 저장합니다.**

**OLD 및 NEW 테이블은 MySQL이 내부적으로 관리합니다.**